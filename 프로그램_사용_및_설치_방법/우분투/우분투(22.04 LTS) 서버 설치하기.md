# M1에서 우분투(22.04 LTS) 가상환경 설치하기

## 1. 우분투 서버 설치하기

M1 가상환경에서 우분투 서버 설치를 위해서 아래의 링크에서 우분투서버 이미지? 우선적으로 다운해줘야 합니다.

- https://ubuntu.com/download/server/arm
	![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_1.png]]

 
위의 링크에 들어가면 두가지의 버전의 우분투 서버를 다운할 수 있습니다.
위의 초록색 버튼으로 다운받을 수 있는 LTS(Long Term Support) 버전은 2년마다 배포되는 버전으로 버그나 개선사항에 대해 지속적으로 개선해주는 버전으로 좀 더 안정적인 서버에 사용해주면 좋습니다.

아래의 하얀 버튼으로 다운 받을 수 있는 일반버전(정규버전)은 9개월의 기간동안 지원해주어 우분투에 새롭게 적용된 기능을 사용해보고 싶다거나 데스크탑에 사용하는 것이 좀 더 좋습니다.

**어떤 버전을 사용하더라도 문제는 없으므로 각각의 상황에 맞는 버전을 다운해주시면 됩니다.**

## 2. UTM 설치하기

UTM이란 운영체제를 MAC에서 사용할 수 있도록 도와주는 프로그램으로 
https://mac.getutm.app/ 또는 앱스토어 에서 다운받으실 수 있습니다. 

앱스토어에서 UTM을 다운받게되면 9.99$를 결제해야하므로 무료로 다운받고 싶으신분들은 위의 URL을 통해 다운받으시면 됩니다.

- UTM 아이콘
	![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_2.png]]

저는 안타깝게도 앱스토어에서 9.99$를 결제한 흑우이기 떄문에 다운후에 위처럼 다운되면 UTM을 실행시켜줍시다.

## 3. UTM 실행 후 가상머신 만들기

UTM을 실행하게되면 아래와 같은 화면을 볼 수 있을텐데 우리가 신경써야할건 빨간색 동그라미 안에 있는 새 가상머신 만들기 밖에 없습니다.

### 3-1. "새 가상머신 만들기" 버튼 누르기

- "새 가상머신 만들기" 누르기
	![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_3.png]]

새 가상머신 버튼을 누르게되면 아래와 같은 화면이 나올겁니다. 여기서 우리는 Virtualize 버튼을 눌러줍시다.

### 3-2. "Virtualize" 버튼 누르기

- "Virtualize" 버튼 누르기
	![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_4.png]]


### 3-3. "Linux" 버튼 누르기

- "Virtualize" 버튼 누르기
	![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_5.png]]



### 3-4. "탐색" 버튼 누른 후 설치했던 우분투 서버 선택 후 Continue

- "탐색" 버튼 누른 후 설치했던 우분투 서버 선택 후 Continue
	![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_6.gif]]


### 3-5. 자신의 환경에 맞게 메모리, CPU 코어수 용량 선택하기

- 메모리와 CPU 코어 수 선택하기
	![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_7.png]]

- 용량 선택하기
	![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_8.png]]


### 3-6. 공유 폴더 및 가상환경 이름 정하기



![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_9.gif]]


지금까지의 과정으로 가상머신은 만들어졌고 이제 우리가 만든 가상머신에 우분투 서버를 다운받고 사용해봅시다.

## 4. 가상머신에 우분투 서버 다운받기

### 4-1. 가상머신 실행

- 가상머신 실행
	![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_10.gif]]

우리가 이전에 만들었던 가상머신을 실행시킨 후 Try or Install Ubuntu Server 를 선택해준 후 조금 기다리면 아래와 같은 화면이 나옵니다.


### 4-2. 우분투 서버 언어 선택하기

![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_11.png]]

우분투 서버에서 사용할 언어를 선택하는 화면입니다. 편하신 언어를 선택하시면 됩니다. 저는 영어가 그나마 가장 편하기 때문에 영어를 선택했습니다.


### 4-3. 우분투 서버 키보드 레이아웃 선택

![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_12.png]]

이번에는 키보드 레이아웃입니다. 저는 기본 설정으로 한 후 넘어갔습니다.

### 4-4. 우분투 서버 설치 타입 선택

![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_13.png]]

저는 이번에도 마찬가지로 기본 설정을 선택했습니다.


### 4-5. 네트워크 설정

![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_14.png]]

기본 설정으로 한 후 넘어갔습니다.

### 4-6. 프록시 설정

![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_15.png]]

기본 설정으로 한 후 넘어갔습니다.

### 4-7. 미러서버 설정

![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_16.png]]

기본 설정으로 한 후 넘어갔습니다.


### 4-8. 스토리지 설정

![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_17.png]]

기본 설정으로 한 후 넘어갔습니다.

### 4-9. 프로필 설정

![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_18.png]]

각자 우분투 서버에서 사용할 유저 이름과 서버 이름, 비밀번호를 설정하고 넘어갔습니다.

### 4-10. OpenSSH 설정

![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_19.png]]

기본 설정으로 한 후 넘어갔습니다.

### 4-11. 다운로드할 패키지 선택

![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_20.png]]

기본 설정으로 한 후 넘어갔습니다.

### 4-12. 다운로드

![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_21.gif]] 시작됩니다. 다운로드가 끝나면 아래와 같이 꺼내기를 누른 후 가상머신을 재실행시켜줍시다.

![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_22.gif]]


### 4-13. 가상환경 재실행

![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_23.gif]]
로그인하여 우분투 서버를 사용할 수 있습니다.


## 5. 우분투 GUI 설치하기

만약 이렇게 우분투 서버를 다운했다면 우리가 평소에 사용했던 환경이 아니기 때문에 불편하여 CUI가 아닌 GUI로 사용하고 싶을 수 있습니다. 이럴때는 4-13 이후에 따로 GUI를 설치해줘야 합니다.

### 5-1. 우분투 로그인하기

![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_24.gif]]

우분투에서 자신이 설정해둔 유저 이름과 비밀번호를 입력하면 로그인할 수 있습니다.

### 5-2. sudo apt-get update

![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_25.gif]]

sudo apt update 명령어를 입력합시다.


### 5-2. sudo apt-get upgrade

![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_26.gif]]


![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_27.gif]]를 입력합시다.


### 5-3. sudo apt-get install ubuntu-desktop


![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_28.gif]]


### 5-4. sudo reboot

![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_29.gif]]
![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_30.gif]]


## 6. (번외) 파이어폭스 설치하기

우분투에는 기본적으로 파이어폭스가 설치되어 있는 것으로 아는데 이유는 잘 모르겠지만 설치되어 있지 않았다. 파이어폭스를 터미널로 설치해보자.

- 파이어폭스 설치하기 (명령어)
```
sudo snap install firefox
```

- 파이어폭스 설치하기
	![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_32.gif]]

설치는 제대로 되었지만 아래처럼 제대로 실행되지 않는 문제가 발생했다.

- 문제 발생
	![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_33.gif]]까지 찾지 못해서 파이어폭스가 아닌 크로미움 브라우저를 설치하여 사용하도록 하자. (Failed to load module "atk-bridge" 오류)


크롬이 아닌 크로미움을 사용하는 이유는 ARM64를 사용할 경우  크롬을 사용할 수 없기 때문이다.

만약 파이어폭스를 삭제하고 싶은 경우에는 아래의 명령어를 터미널에 입력하면 된다.

- 파이어폭스 삭제하기
```
sudo snap remove firefox
```


## 7. 크로미움 설치하기

- 크로미움 설치하기 (명령어)
```
sudo apt update
sudo apt upgrade

sudo apt install chromium-browser
```

- 크로미움 설치화면
	![[Obsidians_Multi_Uses/프로그램_사용_및_설치_방법/우분투/이미지/우분투_서버_설치하기_34.gif]]투 가상환경을 사용하면서 크로미움 실행시 글자가 보이지 않았는데 이유를 찾을수가 없었다 ㅠㅠ 해결하게되면 적겠습니다 ㅠ